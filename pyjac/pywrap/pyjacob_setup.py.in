from distutils.core import setup
from distutils.extension import Extension
from Cython.Build import cythonize
import numpy

sources = ['${wrapper}']
includes = ['$buildpath/', '$homepath/'] + [${extra_include_dirs}]
includes = [x for x in includes if x.strip()]
name = "pyjac_${lang}"

ext_module = Extension(name,
                       sources=sources,
                       include_dirs=includes + [numpy.get_include()],
                       language="c++",
                       extra_compile_args=['-frounding-math', '-fsignaling-nans'],
                       extra_objects=['$libname'],
                       libraries=[${libs}],
                       library_dirs=[${libdirs}])

setup(
    name=name,
    ext_modules=cythonize(ext_module, include_path=includes)
)
